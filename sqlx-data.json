{
  "db": "PostgreSQL",
  "325ba3513eeb24d25c249d64603f23afd1d02efe192ce52c1f8ce65e6304b4a0": {
    "describe": {
      "columns": [
        {
          "name": "t",
          "ordinal": 0,
          "type_info": "Int4"
        }
      ],
      "nullable": [
        null
      ],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      }
    },
    "query": "\n            SELECT 1 as t FROM scheduler.task WHERE id = $1::uuid\n            "
  },
  "ad8c4945e1f1bb88ece9cd06909174cb5f204864d3318ca9b1974b9c9db0cac5": {
    "describe": {
      "columns": [
        {
          "name": "id",
          "ordinal": 0,
          "type_info": "Uuid"
        },
        {
          "name": "state",
          "ordinal": 1,
          "type_info": "Text"
        },
        {
          "name": "inactive_since",
          "ordinal": 2,
          "type_info": "Timestamptz"
        }
      ],
      "nullable": [
        null,
        null,
        null
      ],
      "parameters": {
        "Left": [
          "Text",
          "Uuid",
          "TextArray"
        ]
      }
    },
    "query": "\n        WITH deleted_task as (\n            UPDATE scheduler.task\n            SET inactive_since = now(), state = $1\n            FROM (\n                SELECT id as task_id FROM scheduler.task_state\n                WHERE id = $2::uuid\n                    AND state != ANY($3)\n                    AND inactive_since IS NULL\n            ) as t\n            WHERE id = t.task_id\n            RETURNING id, state, inactive_since\n        ) SELECT id, state, inactive_since FROM (\n        SELECT id, state, inactive_since FROM deleted_task\n        UNION ALL\n        SELECT id, state, inactive_since FROM scheduler.task\n        WHERE id = $2::uuid AND state = $1\n        ) t\n        "
  },
  "c417ad3624b00a9f5ccfb91a348ee50f13b7832637f889395ed13d703e00e9c9": {
    "describe": {
      "columns": [
        {
          "name": "id",
          "ordinal": 0,
          "type_info": "Uuid"
        }
      ],
      "nullable": [
        true
      ],
      "parameters": {
        "Left": [
          "Uuid",
          "Text",
          "Timestamptz"
        ]
      }
    },
    "query": "\n        INSERT INTO scheduler.task (\n            id,\n            typ,\n            not_before\n        )\n        VALUES (\n            $1,\n            $2,\n            $3\n        )\n        RETURNING id\n        "
  },
  "e0e820c5dafc9ecb3d1986bfc75e8478e48f559d855ca3688ebc4603ace368ec": {
    "describe": {
      "columns": [
        {
          "name": "id",
          "ordinal": 0,
          "type_info": "Uuid"
        },
        {
          "name": "typ",
          "ordinal": 1,
          "type_info": "Text"
        },
        {
          "name": "state",
          "ordinal": 2,
          "type_info": "Text"
        },
        {
          "name": "created_at",
          "ordinal": 3,
          "type_info": "Timestamptz"
        },
        {
          "name": "not_before",
          "ordinal": 4,
          "type_info": "Timestamptz"
        },
        {
          "name": "inactive_since",
          "ordinal": 5,
          "type_info": "Timestamptz"
        }
      ],
      "nullable": [
        true,
        true,
        true,
        true,
        true,
        true
      ],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      }
    },
    "query": "\n        SELECT\n            id,\n            typ,\n            state,\n            created_at,\n            not_before,\n            inactive_since\n        FROM scheduler.task_state\n        WHERE id = $1::uuid\n        "
  }
}